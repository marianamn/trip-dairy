"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function transformDate(e){var t=[];return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function getDate(e){return e.getDate()}function getMonth(e){var t=[];return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e.getMonth()]}function getRecentTripsDiaries(e,t,r){var n=void 0,i=void 0;i=e.sort(function(e,t){return new Date(t.postDate)-new Date(e.postDate)}),n=i.slice(0,t);for(var o=0;o<n.length;o++)n[o].content=i[o].content.substring(0,r);return _underscore2.default.map(n,function(e){return{tripsData:e,date:transformDate(new Date(e.postDate))}})}function getMostLikedTripsDiaries(e,t){var r=void 0,n=void 0,i=0;return r=e.sort(function(e,t){return parseFloat(t.likes)-parseFloat(e.likes)}),n=r.slice(0,t),_underscore2.default.map(n,function(e){return{number:++i,tripsGrouped:e}})}function getCategories(e){var t=void 0;return t=_underscore2.default.groupBy(e,function(e){return e.category}),_underscore2.default.map(t,function(e,t){return{category:t,tripsGrouped:e}})}function tripDiariesByCategory(e,t){return _underscore2.default.where(e.data,{category:t})}function getTripsByAuthor(e){var t=void 0,r=void 0;return t=_underscore2.default.sortBy(e.data,function(e){return e.author}),r=_underscore2.default.groupBy(t,function(e){return e.author}),_underscore2.default.map(r,function(e,t){return{author:t,tripsGrouped:_underscore2.default.map(e,function(e){return{tripsData:e,date:transformDate(new Date(e.postDate))}})}})}function getUserInfo(e,t){var r=void 0;return e.forEach(function(e){e.firstName+" "+e.lastName===t&&(r=e)}),r}function getUserInfoByEmail(e,t){var r=void 0;return e.forEach(function(e){e.email===t&&(r=e)}),r}function getUserFullName(e,t){var r=void 0;return e.forEach(function(e){e.email===t&&(r=e.firstName+" "+e.lastName)}),r}function getNextAndPreviousDiary(e,t){for(var r=_underscore2.default.sortBy(e,function(e){return e._id}),n=_underscore2.default.toArray(r),i=void 0,o=void 0,a=0;a<n.length;a++)n[a]._id===t&&(i=a-1>=0?n[a-1]:n[n.length-1],a+1<n.length?o=n[a+1]:i=n[0]);return{prev:i,next:o}}function tinyMceInit(){_tinymce2.default.init({selector:"#tb-content",height:300,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],toolbar:"undo redo  | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent",content_css:"https://www.tinymce.com/css/codepen.min.css"})}function searchByText(e,t){for(var r=e.length,n=[],i=0;i<r;i+=1){var o=e[i].content.toString().toLowerCase(),a=e[i].title.toString().toLowerCase(),u=o.indexOf(t.toString().toLowerCase()),s=a.indexOf(t.toString().toLowerCase());u===-1&&s===-1||n.push(e[i])}return n}function getRegisterUrl(){return"/auth/register"}function getLoginUrl(){return"/auth/login"}function getAllUsersURL(){return"/auth/users"}function getAllTripsUrl(){return"/api/trip-diaries"}function getTripByIdUrl(e){return"/api/trip-diaries/"+e}function getUserByIdUrl(e){return"/auth/users/"+e}function getDiaryAddUrlUrl(){return"/api/add-diary"}function getAddCommentUrl(e){return"/api/trip-diaries/"+e+"/comment"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UTILS=void 0;var _underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_tinymce=require("tinymce"),_tinymce2=_interopRequireDefault(_tinymce),HELPER_FUNCTIONS={getRecentTripsDiaries:getRecentTripsDiaries,getMostLikedTripsDiaries:getMostLikedTripsDiaries,getCategories:getCategories,tripDiariesByCategory:tripDiariesByCategory,getTripsByAuthor:getTripsByAuthor,getUserInfo:getUserInfo,getUserInfoByEmail:getUserInfoByEmail,getUserFullName:getUserFullName,tinyMceInit:tinyMceInit,transformDate:transformDate,getDate:getDate,getMonth:getMonth,searchByText:searchByText,getNextAndPreviousDiary:getNextAndPreviousDiary},URLS={getRegisterUrl:getRegisterUrl,getLoginUrl:getLoginUrl,getAllUsersURL:getAllUsersURL,getAllTripsUrl:getAllTripsUrl,getTripByIdUrl:getTripByIdUrl,getUserByIdUrl:getUserByIdUrl,getDiaryAddUrlUrl:getDiaryAddUrlUrl,getAddCommentUrl:getAddCommentUrl},utils={URLS:URLS,HELPER_FUNCTIONS:HELPER_FUNCTIONS};exports.UTILS=utils;